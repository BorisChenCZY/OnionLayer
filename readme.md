# Onionlayer builder
This is an onionlayer class written in cpp of C++11 by Boris.

## Dependency

- qhull

Only __MacOS__ and __Linux__ that have installed qhull is able to run this program!

## Usage
You can call 
```c++
OnionLayer onionlayer = OnionLayer("path/to/your/qhull/data");
OnionLayer onionlayer = OnionLayer(dimention_of_your_points, map_from_index_to_points); //int dimention_of_your_points; map<int, float*> map_from_index_to_points;
OnionLayer onionlayer = OnionLayer(records, dimention_of_your_records, size_of_your_records); //float* records; int dimention_of_your_points, size_of_your_records; 
```
to init your onionlayer.

After initiation, the program will automatically calculate the onionlayers. You can use
```c++
onionlayer.get_number_of_layers(); // to find how many layers are generated.
onionlayer.get_layer(index_of_a_layer); // to find out the index of points of the layer you name. index_of_a_layer should be an int.
onionlayer.get_point_by_index(index_of_a_point); // to find out the point of the index you want to know.
onionlayer.get_dim(); // to get the dimention of points inside the records.
onionlayer.get_size(); // to get the size of the records.
onionlayer.get_all_point(); // to get a copy of the map of index to point stored in the onionlayer instance.
```

Note that 
- the layer is started from 1, which represents the most outside layer.
- the index returned is the same as the index of the records you passed in when init your instance.
- the copy of the map is reffered by value but not reference. So you may change the value inside the map without consern.

Here is part of the headfile of Onionlayer, so that you can ensure the parameter passed in is correct and not strange mistake will be generated.

```c++
OnionLayer(char* filepath);

OnionLayer(int dim, std::map<int, float*> records);

OnionLayer(float * records[], int dim, int size);

std::vector<int> get_layer(int layer = 1);

int get_number_of_layers();

float * get_point_by_index(int index);

int get_dim();

std::map<int, float *> get_all_points();

int get_size();
```

Have fun using it.

## Test

You can go to `./cmake-build-debug` and 

```bash
$ make
```

to get an application generated by `./main.cpp`.

Or you can just compile `./main.cpp` to check the result.

## MIT License

Copyright (c) 2017 Zhenyu Chen

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.